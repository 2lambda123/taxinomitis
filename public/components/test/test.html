<div ng-if="!isAuthenticated">
    <h2 class="text-center">Not authenticated</h2>
    <div class="text-center">
        <button class="btn btn-primary" ng-click="vm.authService.login()">Log In</button>
    </div>
</div>
<div ng-if="isAuthenticated">
    <div class="jumbotron">
        <h2 class="text-center">Test your project</h2>
    </div>
    <div>
        <a ui-sref="mlproject({ projectId : projectId })">&lt; Back to project</a>
    </div>

    <div ng-repeat="error in vm.errors" class="alert alert-danger alert-dismissible pageheadermsg" role="alert" ng-click="vm.dismissAlert('errors', $index)">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Error:</strong> {{ error.message }}
    </div>
    <div ng-repeat="warning in vm.warnings" class="alert alert-warning alert-dismissible pageheadermsg" role="alert" ng-click="vm.dismissAlert('warnings', $index)">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong>Warning:</strong> {{ warning.message }}
    </div>

    <div ng-if="projectId && !models">
        loading
    </div>
    <div ng-if="project && models" style="margin: 3em;">
        <div style="margin: 1em;">Try putting in some text to see how it is recognised based on your training.</div>
        <form name="testform" ng-submit="vm.testModel($event, testform, project)">
            <input style="width: 80%" type="text" ng-model="testformData.testquestion" ng-required="true" placeholder="enter a test text here">
            <input type="submit" class="btn" value="Test" ng-disabled="testform.$invalid" >
        </form>
        <div ng-if="testoutput">
            <div>Recognised as <strong>{{ testoutput }}</strong> </div>
            <div> {{ testoutput_explanation }} </div>
        </div>
    </div>
    <div class="text-center" ng-if="!projectId">
        missing projectid - you should probably go back to <a ui-sref="projects">Projects</a>
    </div>
</div>
